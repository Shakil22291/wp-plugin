!function n(s,o,a){function u(t,e){if(!o[t]){if(!s[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(i)return i(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=o[t]={exports:{}},s[t][0].call(r.exports,function(e){return u(s[t][1][e]||e)},r,r.exports,n,s,o,a)}return o[t].exports}for(var i="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,r){"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#mypluging-show-auth-form"),t=document.querySelector(".auth-form-wrapper"),r=document.querySelector("#myplugin-auth-close"),n=document.getElementById("myplugin-auth-form"),s=n.querySelector('[data-message="status"]');function o(){s.innerHTML="",s.classList.remove("error","success"),n.querySelector('[name="submit"]').value="Login",n.querySelector('[name="submit"]').disabled=!1}e.addEventListener("click",function(){t.classList.add("show"),this.parentElement.classList.add("hide")}),r.addEventListener("click",function(){t.classList.remove("show"),e.parentElement.classList.remove("hide")}),n.addEventListener("submit",function(e){e.preventDefault();var t=n.querySelector('[name="username"]').value,e=n.querySelector('[name="password"]').value;n.querySelector('[name="myplugin_auth"]').value;if(!t||!e)return s.innerHTML="Missing data",void s.classList.add("error");t=n.dataset.url,e=new URLSearchParams(new FormData(n));n.querySelector('[name="submit"]').value="Logging in..",n.querySelector('[name="submit"]').disabled=!0,fetch(t,{method:"POST",body:e}).then(function(e){return e.json()}).catch(function(e){o(),alert("reseting the message")}).then(function(e){return o(),e.status&&0!==e?(s.innerHTML=e.message,s.classList.add("success"),void window.location.reload()):(s.innerHTML=e.message,void s.classList.add("error"))})})})},{}]},{},[1]);
//# sourceMappingURL=auth.js.map
